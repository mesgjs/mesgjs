import{getInstance as j,getInterface as c,setRO as l,typeAccepts as r}from"./runtime.esm.js";import{NANOS as o}from"./vendor.esm.js";function f(t){const{mp:s,js:e}=t,p=s.at("with")??"",n=[e];for(const a of s.values()){const i=globalThis.$toMSJS(a);r(i.msjsType,"toString")&&n.push(i("toString"))}return n.join(p)}function u(t){const{mp:s,js:e}=t,p=[];for(const n of s.values()){const a=globalThis.$toMSJS(n);r(a.msjsType,"toString")&&p.push(a("toString"))}return p.join(e)}function m(t,s=!1){const e=t.mp.at(0,""),p=e?.msjsType==="@regex"?e.jsv:e,n=t.mp.at(1,""),a=n?.msjsType==="@function"?h.bind({msjsfn:n}):n;return s?t.js.replaceAll(p,a):t.js.replace(p,a)}function g(t){const s=t.mp.at(0,""),e=s?.msjsType==="@regex"?s.jsv:s;return t.js.split(e,t.mp.at(1,1/0))}function h(...t){const s=t.shift(),[e]=t.slice(-1),p=typeof e=="object",[n,a]=t.splice(p?-3:-2),i=new o(t,{match:s,offset:n,string:a},p?{groups:new o(e)}:[]);return this.msjsfn("call",i)}function A(){c("@string").set({final:!0,lock:!0,pristine:!0,handlers:{"@init":t=>l(t.octx,"js",t.mp.at(0,"").toString()),"@jsv":t=>t.js,at:t=>t.js.at(t.mp.at(0,0)),charAt:t=>t.js.charAt(t.mp.at(0,0)),charCodeAt:t=>t.js.charCodeAt(t.mp.at(0,0)),codePointAt:t=>t.js.codePointAt(t.mp.at(0,0)),endsWith:t=>t.js.endsWith(t.mp.at(0,""),t.mp.at(1,t.js.length)),eq:t=>t.js===t.mp.at(0),escRE:t=>RegExp.escape(t.js),ge:t=>t.js>=t.mp.at(0),gt:t=>t.js>t.mp.at(0),includes:t=>t.js.includes(t.mp.at(0,"")),indexOf:t=>t.js.indexOf(t.mp.at(0,""),t.mp.at(1,0)),isWellFormed:t=>t.js.isWellFormed(),join:f,joining:u,lastIndexOf:t=>t.js.lastIndexOf(t.mp.at(0,""),t.mp.at(1,1/0)),le:t=>t.js<=t.mp.at(0),length:t=>t.js.length,lt:t=>t.js<t.mp.at(0),ne:t=>t.js!==t.mp.at(0),normalize:t=>t.js.normalize(t.mp.at(0,"NFC")),padEnd:t=>t.js.padEnd(t.mp.at(0,0),t.mp.at(1," ")),padStart:t=>t.js.padStart(t.mp.at(0,0),t.mp.at(1," ")),regex:t=>j("@regex",[t.js,t.mp.at(0,"")]),repeat:t=>t.js.repeat(t.mp.at(0,0)),replace:t=>m(t),replaceAll:t=>m(t,!0),slice:t=>t.js.slice(t.mp.at(0,0),t.mp.at(1,t.js.length)),split:g,startsWith:t=>t.js.startsWith(t.mp.at(0,""),t.mp.at(1,0)),toLower:t=>t.js.toLowerCase(),toString:t=>t.js,toUpper:t=>t.js.toUpperCase(),trim:t=>t.js.trim(),trimEnd:t=>t.js.trimEnd(),trimStart:t=>t.js.trimStart(),valueOf:t=>t.js},cacheHints:{"@init":"pin"}})}export{A as install};
