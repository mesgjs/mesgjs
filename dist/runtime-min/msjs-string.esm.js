import{getInstance as f,getInterface as u,setRO as i,typeAccepts as j}from"./runtime.esm.js";import{NANOS as r}from"./vendor.esm.js";function g(t){i(t.octx,"js",t.mp.at(0,"").toString()),i(t.rr,{jsv:t.js,valueOf:()=>t.js})}function m(t){const{mp:s,js:e}=t,p=s.at("with")??"",a=[e];for(const n of s.values()){const o=globalThis.$toMsjs(n);j(o.msjsType,"toString")&&a.push(o("toString"))}return a.join(p)}function l(t){const{mp:s,js:e}=t,p=[];for(const a of s.values()){const n=globalThis.$toMsjs(a);j(n.msjsType,"toString")&&p.push(n("toString"))}return p.join(e)}function c(t,s=!1){const e=t.mp.at(0,""),p=e?.msjsType==="@regex"?e.jsv:e,a=t.mp.at(1,""),n=a?.msjsType==="@function"?S.bind({msjsfn:a}):a;return s?t.js.replaceAll(p,n):t.js.replace(p,n)}function h(t){const s=t.mp.at(0,""),e=s?.msjsType==="@regex"?s.jsv:s;return new r(t.js.split(e,t.mp.at(1)))}function S(...t){const s=t.shift(),[e]=t.slice(-1),p=typeof e=="object",[a,n]=t.splice(p?-3:-2),o=new r(t,{match:s,offset:a,string:n},p?{groups:new r(e)}:[]);return this.msjsfn("call",o)}function A(){u("@string").set({final:!0,lock:!0,pristine:!0,handlers:{"@init":g,"@jsv":t=>t.js,"=":t=>t.js===t.mp.at(0),">=":t=>t.js>=t.mp.at(0),">":t=>t.js>t.mp.at(0),"+":m,"-":l,"<=":t=>t.js<=t.mp.at(0),"<":t=>t.js<t.mp.at(0),"!=":t=>t.js!==t.mp.at(0),at:t=>t.js.at(t.mp.at(0,0)),charAt:t=>t.js.charAt(t.mp.at(0,0)),charCodeAt:t=>t.js.charCodeAt(t.mp.at(0,0)),codePointAt:t=>t.js.codePointAt(t.mp.at(0,0)),endsWith:t=>t.js.endsWith(t.mp.at(0,""),t.mp.at(1,t.js.length)),eq:t=>t.js===t.mp.at(0),escRE:t=>RegExp.escape(t.js),ge:t=>t.js>=t.mp.at(0),gt:t=>t.js>t.mp.at(0),includes:t=>t.js.includes(t.mp.at(0,"")),indexOf:t=>t.js.indexOf(t.mp.at(0,""),t.mp.at(1,0)),isWellFormed:t=>t.js.isWellFormed(),join:m,joining:l,lastIndexOf:t=>t.js.lastIndexOf(t.mp.at(0,""),t.mp.at(1,1/0)),le:t=>t.js<=t.mp.at(0),length:t=>t.js.length,lt:t=>t.js<t.mp.at(0),ne:t=>t.js!==t.mp.at(0),normalize:t=>t.js.normalize(t.mp.at(0,"NFC")),padEnd:t=>t.js.padEnd(t.mp.at(0,0),t.mp.at(1," ")),padStart:t=>t.js.padStart(t.mp.at(0,0),t.mp.at(1," ")),re:t=>f("@regex",[t.js,t.mp.at(0,"")]),repeat:t=>t.js.repeat(t.mp.at(0,0)),replace:t=>c(t),replaceAll:t=>c(t,!0),slice:t=>t.js.slice(t.mp.at(0,0),t.mp.at(1,t.js.length)),split:h,startsWith:t=>t.js.startsWith(t.mp.at(0,""),t.mp.at(1,0)),substring:t=>t.js.substring(t.mp.at(0,0),t.mp.at(1,t.js.length)),toBigInt:t=>BigInt(t.js),toFloat:t=>parseFloat(t.js),toInt:t=>parseInt(t.js,t.mp.at(0,10)),toLower:t=>t.js.toLowerCase(),toString:t=>t.js,toUpper:t=>t.js.toUpperCase(),trim:t=>t.js.trim(),trimEnd:t=>t.js.trimEnd(),trimStart:t=>t.js.trimStart(),valueOf:t=>t.js},cacheHints:{"@init":"pin"}})}export{A as install};
