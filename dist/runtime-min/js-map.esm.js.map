{
  "version": 3,
  "sources": ["../../src/runtime/js-map.esm.js"],
  "sourcesContent": ["/*\n * Mesgjs @map - JS Map wrapper interface\n * Author: Brian Katzung <briank@kappacs.com>\n * Copyright 2025 by Kappa Computer Solutions, LLC and Brian Katzung\n */\n\nimport { getInterface, setRO } from './runtime.esm.js';\nimport { unifiedList, uniAt } from './unified-list.esm.js';\nimport { NANOS } from './vendor.esm.js';\n\nfunction opInit (d) {\n    const { octx, mp } = d, map = mp.at(0);\n    setRO(octx, 'js', (map instanceof Map) ? map : new Map());\n    setRO(d.js, $c.symbols.instance, d.rr, false);\n    setRO(d.rr, { jsv: d.js, valueOf: () => d.js });\n}\n\nfunction opAt (d) {\n    const { mp } = d, path = mp.has('path') ? unifiedList(mp.at('path')).values() : mp.values();\n    return uniAt(d.js, [...path], { wrap: true, defaultFn: () => {\n    if (mp.has('else')) return runIfCode(mp.at('else'));\n    else throw new Error('Key path not found');\n    }});\n}\n\nfunction opSet (d) {\n    d.js.set(d.mp.at(0), d.mp.at('to', d.mp.at(1)));\n    return d.js;\n}\n\nexport function install (name) {\n    getInterface(name).set({\n\tlock: true, pristine: true,\n\thandlers: {\n\t    '@init': opInit,\n\t    '@jsv': d => d.js,\n            '@': opAt,\n            '=': opSet,\n            at: opAt,\n\t    clear: d => (d.js.clear(), d.js),\n\t    delete: d => d.js.delete(d.mp.at(0)),\n\t    entries: d => [...d.js.entries()],\n\t    // forEach - use @kvIter\n\t    get: opAt,\n\t    has: d => d.js.has(d.mp.at(0)),\n\t    keyIter: d => d.js.keys(),\n\t    keys: d => [...d.js.keys()],\n\t    set: opSet,\n\t    size: d => d.js.size,\n            toList: d => new NANOS(d.js),\n\t    values: d => [...d.js.values()],\n\t},\n    });\n}\n\n// END\n"],
  "mappings": "AAMA,OAAS,gBAAAA,EAAc,SAAAC,MAAa,mBACpC,OAAS,eAAAC,EAAa,SAAAC,MAAa,wBACnC,OAAS,SAAAC,MAAa,kBAEtB,SAASC,EAAQC,EAAG,CAChB,KAAM,CAAE,KAAAC,EAAM,GAAAC,CAAG,EAAIF,EAAGG,EAAMD,EAAG,GAAG,CAAC,EACrCP,EAAMM,EAAM,KAAOE,aAAe,IAAOA,EAAM,IAAI,GAAK,EACxDR,EAAMK,EAAE,GAAI,GAAG,QAAQ,SAAUA,EAAE,GAAI,EAAK,EAC5CL,EAAMK,EAAE,GAAI,CAAE,IAAKA,EAAE,GAAI,QAAS,IAAMA,EAAE,EAAG,CAAC,CAClD,CAEA,SAASI,EAAMJ,EAAG,CACd,KAAM,CAAE,GAAAE,CAAG,EAAIF,EAAGK,EAAOH,EAAG,IAAI,MAAM,EAAIN,EAAYM,EAAG,GAAG,MAAM,CAAC,EAAE,OAAO,EAAIA,EAAG,OAAO,EAC1F,OAAOL,EAAMG,EAAE,GAAI,CAAC,GAAGK,CAAI,EAAG,CAAE,KAAM,GAAM,UAAW,IAAM,CAC7D,GAAIH,EAAG,IAAI,MAAM,EAAG,OAAO,UAAUA,EAAG,GAAG,MAAM,CAAC,EAC7C,MAAM,IAAI,MAAM,oBAAoB,CACzC,CAAC,CAAC,CACN,CAEA,SAASI,EAAON,EAAG,CACf,OAAAA,EAAE,GAAG,IAAIA,EAAE,GAAG,GAAG,CAAC,EAAGA,EAAE,GAAG,GAAG,KAAMA,EAAE,GAAG,GAAG,CAAC,CAAC,CAAC,EACvCA,EAAE,EACb,CAEO,SAASO,EAASC,EAAM,CAC3Bd,EAAac,CAAI,EAAE,IAAI,CAC1B,KAAM,GAAM,SAAU,GACtB,SAAU,CACN,QAAST,EACT,OAAQC,GAAKA,EAAE,GACR,IAAKI,EACL,IAAKE,EACL,GAAIF,EACX,MAAOJ,IAAMA,EAAE,GAAG,MAAM,EAAGA,EAAE,IAC7B,OAAQA,GAAKA,EAAE,GAAG,OAAOA,EAAE,GAAG,GAAG,CAAC,CAAC,EACnC,QAASA,GAAK,CAAC,GAAGA,EAAE,GAAG,QAAQ,CAAC,EAEhC,IAAKI,EACL,IAAKJ,GAAKA,EAAE,GAAG,IAAIA,EAAE,GAAG,GAAG,CAAC,CAAC,EAC7B,QAASA,GAAKA,EAAE,GAAG,KAAK,EACxB,KAAMA,GAAK,CAAC,GAAGA,EAAE,GAAG,KAAK,CAAC,EAC1B,IAAKM,EACL,KAAMN,GAAKA,EAAE,GAAG,KACT,OAAQA,GAAK,IAAIF,EAAME,EAAE,EAAE,EAClC,OAAQA,GAAK,CAAC,GAAGA,EAAE,GAAG,OAAO,CAAC,CAClC,CACG,CAAC,CACL",
  "names": ["getInterface", "setRO", "unifiedList", "uniAt", "NANOS", "opInit", "d", "octx", "mp", "map", "opAt", "path", "opSet", "install", "name"]
}
