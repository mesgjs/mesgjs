{
  "version": 3,
  "sources": ["../../src/runtime/mesgjs.esm.js"],
  "sourcesContent": ["/*\n * Mesgjs Entry-Point Module And Runtime Local Configuration\n *\n * Author: Brian Katzung <briank@kappacs.com>\n * Copyright 2025 by Kappa Computer Solutions, LLC and Brian Katzung\n */\n\n// Post-@core foundation-class installers\nimport { install as installBoolean } from './msjs-boolean.esm.js';\nimport { install as installCore } from './msjs-core.esm.js';\nimport { install as installJSArray } from './js-array.esm.js';\nimport { install as installList } from './msjs-list.esm.js';\nimport { install as installKVIter } from './msjs-kv-iter.esm.js';\nimport { install as installLoop } from './msjs-loop.esm.js';\nimport { install as installMap } from './msjs-map.esm.js';\nimport { install as installNull } from './msjs-null.esm.js';\nimport { install as installNumber } from './msjs-number.esm.js';\nimport { install as installPromise } from './msjs-promise.esm.js';\nimport { install as installReactive } from './msjs-reactive.esm.js';\nimport { install as installRegex } from './msjs-regex.esm.js';\nimport { install as installSet } from './msjs-set.esm.js';\nimport { install as installString } from './msjs-string.esm.js';\nimport { install as installTry } from './msjs-try.esm.js';\nimport { install as installUndefined } from './msjs-undefined.esm.js';\n\nimport { getInstance, initialize, msjsInstance, setModMeta, setRO } from './runtime.esm.js';\nexport { setModMeta };\nimport { NANOS } from './vendor.esm.js';\n\n// Guaranteed-load, @-interface extension modules\nfunction installCoreExtensions () {\n    installCore('@core');\t\t// SHOULD ALWAYS BE FIRST\n\n    installBoolean();\n    installJSArray('@jsArray');\n    installKVIter('@kvIter');\n    installList('@list');\n    installLoop('@loop');\n    installMap('@map');\n    installNull();\n    installNumber();\n    installPromise('@promise');\n    installReactive('@reactive');\n    installRegex();\n    installSet('@set');\n    installString();\n    installTry('@try');\n    installUndefined();\n}\n\n// Promote a JS object to a MSJS object for messaging\nfunction toMSJS (jsv) {\n    if (jsv?.msjsType) return jsv;\n    switch (typeof jsv) {\n    case 'boolean':\n\treturn getInstance(jsv ? '@true' : '@false');\n    case 'bigint':\n    case 'number':\n\treturn getInstance('@number', jsv);\n    case 'object':\n\tif (jsv === null) return getInstance('@null');\n\tif (jsv[msjsInstance]) return jsv[msjsInstance];\n\tif (jsv instanceof NANOS) return getInstance('@list', [jsv]);\n\tif (jsv instanceof RegExp) return getInstance('@regex', jsv);\n\t// Not sure if we'll see many of these \"in the wild\"\n\t// if (jsv?.$reactive) return getInstance('@reactive', jsv);\n\tif (Array.isArray(jsv)) return getInstance('@jsArray', [jsv]);\n\tif (jsv instanceof Map) return getInstance('@map', [jsv]);\n\tif (jsv instanceof Set) return getInstance('@set', [jsv]);\n\treturn getInstance('@undefined');\n    case 'string':\n\treturn getInstance('@string', jsv);\n    default:\n\treturn getInstance('@undefined');\n    }\n}\n\n/*\n * We have only two \"exports\". These are shared globally in order to\n * avoid circular import dependencies for lots of modules.\n */\nsetRO(globalThis, {\n    installMSJSCoreExtensions: installCoreExtensions,\n    $toMSJS: toMSJS,\n});\ninitialize();\n\n// END;\n"],
  "mappings": "AAQA,OAAS,WAAWA,MAAsB,wBAC1C,OAAS,WAAWC,MAAmB,qBACvC,OAAS,WAAWC,MAAsB,oBAC1C,OAAS,WAAWC,MAAmB,qBACvC,OAAS,WAAWC,MAAqB,wBACzC,OAAS,WAAWC,MAAmB,qBACvC,OAAS,WAAWC,MAAkB,oBACtC,OAAS,WAAWC,MAAmB,qBACvC,OAAS,WAAWC,MAAqB,uBACzC,OAAS,WAAWC,MAAsB,wBAC1C,OAAS,WAAWC,MAAuB,yBAC3C,OAAS,WAAWC,MAAoB,sBACxC,OAAS,WAAWC,MAAkB,oBACtC,OAAS,WAAWC,MAAqB,uBACzC,OAAS,WAAWC,MAAkB,oBACtC,OAAS,WAAWC,MAAwB,0BAE5C,OAAS,eAAAC,EAAa,cAAAC,EAAY,gBAAAC,EAAc,cAAAC,EAAY,SAAAC,MAAa,mBAEzE,OAAS,SAAAC,MAAa,kBAGtB,SAASC,GAAyB,CAC9BrB,EAAY,OAAO,EAEnBD,EAAe,EACfE,EAAe,UAAU,EACzBE,EAAc,SAAS,EACvBD,EAAY,OAAO,EACnBE,EAAY,OAAO,EACnBC,EAAW,MAAM,EACjBC,EAAY,EACZC,EAAc,EACdC,EAAe,UAAU,EACzBC,EAAgB,WAAW,EAC3BC,EAAa,EACbC,EAAW,MAAM,EACjBC,EAAc,EACdC,EAAW,MAAM,EACjBC,EAAiB,CACrB,CAGA,SAASQ,EAAQC,EAAK,CAClB,GAAIA,GAAK,SAAU,OAAOA,EAC1B,OAAQ,OAAOA,EAAK,CACpB,IAAK,UACR,OAAOR,EAAYQ,EAAM,QAAU,QAAQ,EACxC,IAAK,SACL,IAAK,SACR,OAAOR,EAAY,UAAWQ,CAAG,EAC9B,IAAK,SACR,OAAIA,IAAQ,KAAaR,EAAY,OAAO,EACxCQ,EAAIN,CAAY,EAAUM,EAAIN,CAAY,EAC1CM,aAAeH,EAAcL,EAAY,QAAS,CAACQ,CAAG,CAAC,EACvDA,aAAe,OAAeR,EAAY,SAAUQ,CAAG,EAGvD,MAAM,QAAQA,CAAG,EAAUR,EAAY,WAAY,CAACQ,CAAG,CAAC,EACxDA,aAAe,IAAYR,EAAY,OAAQ,CAACQ,CAAG,CAAC,EACpDA,aAAe,IAAYR,EAAY,OAAQ,CAACQ,CAAG,CAAC,EACjDR,EAAY,YAAY,EAC5B,IAAK,SACR,OAAOA,EAAY,UAAWQ,CAAG,EAC9B,QACH,OAAOR,EAAY,YAAY,CAC5B,CACJ,CAMAI,EAAM,WAAY,CACd,0BAA2BE,EAC3B,QAASC,CACb,CAAC,EACDN,EAAW",
  "names": ["installBoolean", "installCore", "installJSArray", "installList", "installKVIter", "installLoop", "installMap", "installNull", "installNumber", "installPromise", "installReactive", "installRegex", "installSet", "installString", "installTry", "installUndefined", "getInstance", "initialize", "msjsInstance", "setModMeta", "setRO", "NANOS", "installCoreExtensions", "toMSJS", "jsv"]
}
