import{getInterface as o,setRO as a}from"./runtime.esm.js";import{unifiedList as j,uniAt as i}from"./unified-list.esm.js";function p(e){const{octx:t,mp:s}=e,n=s.at(0);a(t,"js",typeof n=="object"&&n!==null?n:{}),a(e.js,$c.symbols.instance,e.rr,!1),a(e.rr,{jsv:e.js,valueOf:()=>e.js})}function r(e){const{mp:t}=e,s=t.has("path")?j(t.at("path")).values():t.values();return i(e.js,[...s],{wrap:!0,defaultFn:()=>{if(t.has("else"))return runIfCode(t.at("else"));throw new Error("Key path not found")}})}function c(e){o(e).set({lock:!0,pristine:!0,handlers:{"@init":p,"@jsv":t=>t.js,"@":r,"=":t=>{t.js[t.mp.at(0)]=t.mp.at("to",t.mp.at(1))},at:r,entries:t=>Object.entries(t.js),get:r,keys:t=>Object.keys(t.js),keyIter:t=>Object.keys(t.js).values(),set:t=>{t.js[t.mp.at(0)]=t.mp.at("to",t.mp.at(1))},size:t=>Object.keys(t.js).length,toList:t=>new NANOS(t.js),values:t=>Object.values(t.js)}})}export{c as install};
