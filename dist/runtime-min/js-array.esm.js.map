{
  "version": 3,
  "sources": ["../../src/runtime/js-array.esm.js"],
  "sourcesContent": ["/*\n * Mesgs @jsArray interface - wrapper for JS arrays\n * Author: Brian Katzung <briank@kappacs.com>\n * Copyright 2025 by Kappa Computer Solutions, LLC and Brian Katzung\n */\n\nimport { getInterface, setRO } from './runtime.esm.js';\nimport { unifiedList, uniAt } from './unified-list.esm.js';\n\nfunction opInit (d) {\n\tconst { octx, mp } = d, ary = mp.at(0);\n\tsetRO(octx, 'js', Array.isArray(ary) ? ary : []);\n\tsetRO(d.js, $c.symbols.instance, d.rr, false);\n\tsetRO(d.rr, { jsv: d.js, valueOf: () => d.js });\n}\n\nfunction opAt (d) {\n\tconst { mp } = d, path = mp.has('path') ? unifiedList(mp.at('path')).values() : mp.values();\n\treturn uniAt(d.js, [...path], { wrap: true, defaultFn: () => {\n\t\tif (mp.has('else')) return runIfCode(mp.at('else'));\n\t\telse throw new Error('Key path not found');\n\t}});\n}\n\nfunction opSet (d) {\n\t// Set value at index only if index is numeric\n\tconst index = parseInt(d.mp.at(0), 10);\n\tif (index === index) d.js[index] = d.mp.at('to', d.mp.at(1));\n\treturn d.js;\n}\n\nexport function install (name) {\n\tgetInterface(name).set({\n\t\tlock: true, pristine: true,\n\t\thandlers: {\n\t\t\t'@init': opInit,\n\t\t\t'@jsv': d => d.js,\n\t\t\t'@': opAt,\n\t\t\t'=': opSet,\n\t\t\tat: opAt,\n\t\t\tconcat: d => d.js.concat(...d.mp.values()),\n\t\t\tentries: d => Object.entries(d.js),\n\t\t\tflat: d => d.js.flat(d.mp.at(0)),\n\t\t\tget: opAt,\n\t\t\tkeys: d => Object.keys(d.js),\n\t\t\tkeyIter: d => Object.keys(d.js).values(),\n\t\t\tlength: d => d.js.length,\n\t\t\tpop: d => d.js.pop(),\n\t\t\tpush: d => d.js.push(...d.mp.values()),\n\t\t\treverse: d => d.js.reverse(),\n\t\t\tset: opSet,\n\t\t\tsetKey: d => (d.js[d.mp.at(0)] = d.mp.at('to', d.mp.at(1)), d.js),\n\t\t\tsetLength: d => { d.js.length = parseInt(d.mp.at(0), 10); },\n\t\t\tshift: d => d.js.shift(),\n\t\t\tsize: d => d.js.length,\n\t\t\tslice: d => d.js.slice(d.mp.at(0), d.mp.at(1)),\n\t\t\tsort: d => d.js.sort(d.mp.at(0)),\n\t\t\ttoList: d => new NANOS(d.js),\n\t\t\ttoReversed: d => d.js.toReversed(),\n\t\t\ttoSorted: d => d.js.toSorted(d.mp.at(0)),\n\t\t\tunshift: d => d.js.unshift(...d.mp.values()),\n\t\t\tvalues: d => Object.values(d.js),\n\t\t},\n\t});\n}\n\n// END\n"],
  "mappings": "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",
  "names": ["getInterface", "setRO", "unifiedList", "uniAt", "opInit", "d", "octx", "mp", "ary", "opAt", "path", "opSet", "index", "install", "name"]
}
