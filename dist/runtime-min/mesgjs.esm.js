import{install as a}from"./msjs-core.esm.js";import{install as o}from"./js-boolean.esm.js";import{install as s}from"./js-array.esm.js";import{install as m}from"./js-object.esm.js";import{install as f}from"./msjs-list.esm.js";import{install as c}from"./msjs-kv-iter.esm.js";import{install as p}from"./msjs-loop.esm.js";import{install as u}from"./js-map.esm.js";import{install as b}from"./js-null.esm.js";import{install as y}from"./js-number.esm.js";import{install as g}from"./js-promise.esm.js";import{install as S}from"./msjs-reactive.esm.js";import{install as O}from"./js-regex.esm.js";import{install as d}from"./js-set.esm.js";import{install as A}from"./js-string.esm.js";import{install as M}from"./msjs-try.esm.js";import{install as h}from"./js-undefined.esm.js";import{getInstance as r,initialize as N,setModMeta as x,setRO as n}from"./runtime.esm.js";import{NANOS as e}from"./vendor.esm.js";import{isPlainObject as T}from"./unified-list.esm.js";const l=Symbol.for("msjsInstance"),i=Symbol.for("toMsjs");function $(){if(globalThis.NANOS=e,a("@core"),!globalThis.$c)throw new Error("@core installation incomplete");n($c,"symbols",{convert:i,instance:l}),Object.freeze($c.symbols),Object.freeze($c),o(),s("@jsArray"),m("@jsObject"),c("@kvIter"),f("@list"),e.prototype[i]=function(){return r("@list",[this])},p("@loop"),u("@map"),b(),y(),g("@promise"),S("@reactive"),O(),d("@set"),A(),M("@try"),h()}function I(t){if(t?.msjsType)return t;switch(typeof t){case"boolean":return r(t?"@true":"@false");case"bigint":case"number":return r("@number",[t]);case"object":return t===null?r("@null"):t[l]?t[l]:t[i]?t[i]():t instanceof RegExp?r("@regex",[t]):Array.isArray(t)?r("@jsArray",[t]):t instanceof Map?r("@map",[t]):t instanceof Set?r("@set",[t]):T(t)?r("@jsObject",[t]):r("@undefined");case"string":return r("@string",[t]);default:return r("@undefined")}}n(globalThis,"$toMsjs",I),N($);export{x as setModMeta};
